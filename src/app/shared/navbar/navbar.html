<header class="topbar">
  <button class="hamburger" (click)="toggleMenu()" aria-label="Menu">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <div class="brand" routerLink="/flights">FlyHigh</div>

<div class="right">
  <a class="ghost" routerLink="">Home</a>
  <a class="ghost" routerLink="/flights">Search</a>
  <ng-container *ngIf="!token.isLoggedIn()">
    <a class="ghost" routerLink="/login">Login</a>
    <a class="ghost" routerLink="/register">Register</a>
  </ng-container>

  <button
    class="primary"
    *ngIf="token.isLoggedIn()"
    (click)="logout()">
    Logout
  </button>
</div>

</header>

<div class="backdrop" *ngIf="menuOpen" (click)="closeMenu()"></div>

<nav class="drawer" [class.open]="menuOpen">
  <div class="drawer-head">
    <div class="drawer-title">Menu</div>
    <button class="x" (click)="closeMenu()">âœ•</button>
  </div>

  <a routerLink="/flights" (click)="closeMenu()">Flight Search</a>
<a routerLink="/all-flights" (click)="closeMenu()">
  All Flights
</a>

  <ng-container *ngIf="!token.isLoggedIn()">
    <a routerLink="/login" (click)="closeMenu()">Login</a>
    <a routerLink="/register" (click)="closeMenu()">Register</a>
  </ng-container>

  <ng-container *ngIf="token.isLoggedIn()">
    <div class="pill">Role: {{ token.getRole() }}</div>
    <button class="logout" (click)="logout()">Logout</button>
  </ng-container>
</nav>
